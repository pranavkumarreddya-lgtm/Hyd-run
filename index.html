<!DOCTYPE html>
<html>
<head>
  <title>Hyd Runner</title>
</head>
<body>

<h1 style="text-align:center;">Hyd Runner ğŸƒ</h1>

<div id="game" style="width:300px;height:400px;border:2px solid black;margin:auto;position:relative;overflow:hidden;background:lightblue;">
  
  <div id="player"
       style="width:40px;height:40px;background:red;position:absolute;bottom:10px;left:130px;">
  </div>

  <div id="obstacle"
       style="width:40px;height:40px;background:black;position:absolute;top:-40px;left:130px;">
  </div>

</div>

<script>

let player = document.getElementById("player");
let obstacle = document.getElementById("obstacle");

let obstacleTop = -40;
let jumping = false;

setInterval(function(){

  obstacleTop += 5;
  obstacle.style.top = obstacleTop + "px";

  if(obstacleTop > 400){
    obstacleTop = -40;
  }

  let playerBottom = parseInt(player.style.bottom);

  // COLLISION ONLY WHEN OBSTACLE AT PLAYER HEIGHT
  if(obstacleTop > 300 && obstacleTop < 340){
    if(playerBottom < 80){
      alert("Game Over ğŸ˜­");
      obstacleTop = -40;
    }
  }

}, 40);


function jump(){
  if(jumping) return;

  jumping = true;
  player.style.bottom = "150px";

  setTimeout(function(){
    player.style.bottom = "10px";
    jumping = false;
  }, 500);
}

document.addEventListener("click", jump);

</script>

</body>
</html>
