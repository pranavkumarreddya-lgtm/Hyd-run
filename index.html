<!DOCTYPE html>
<html>
<head>
  <title>Hyd Runner</title>
</head>
<body>

<h1 style="text-align:center;">Hyd Runner ğŸƒ</h1>

<div id="game" style="width:300px;height:400px;border:2px solid black;margin:auto;position:relative;overflow:hidden;background:lightblue;">
  
  <!-- Player -->
  <div id="player" 
       style="width:40px;height:40px;background:red;position:absolute;bottom:10px;left:130px;">
  </div>

  <!-- Obstacle -->
  <div id="obstacle" 
       style="width:40px;height:40px;background:black;position:absolute;top:-40px;left:130px;">
  </div>

</div>

<script>

let player = document.getElementById("player");
let obstacle = document.getElementById("obstacle");

let obstaclePosition = -40;
let isJumping = false;

// Obstacle movement
setInterval(function(){

  obstaclePosition += 4;
  obstacle.style.top = obstaclePosition + "px";

  if(obstaclePosition > 400){
    obstaclePosition = -40;
  }

  let playerBottom = parseInt(window.getComputedStyle(player).getPropertyValue("bottom"));

  // Collision only near ground
  if(obstaclePosition > 340 && obstaclePosition < 380){
    if(playerBottom <= 40){
      alert("Game Over ğŸ˜­");
      obstaclePosition = -40;
    }
  }

}, 40);


// Jump
function jump(){
  if(isJumping) return;

  isJumping = true;
  player.style.bottom = "120px";

  setTimeout(function(){
    player.style.bottom = "10px";
    isJumping = false;
  }, 400);
}

document.addEventListener("click", jump);

</script>

</body>
</html>
